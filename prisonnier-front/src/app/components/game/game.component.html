<div class="game-container">
  <!-- Game Status -->
  <div class="game-status-panel">
    <h2>Partie en cours</h2>
    <p class="rounds">Tour : {{ currentRound }}/{{ totalRounds }}</p>
    <p class="status">{{ isGameFinished ? 'Partie Terminée' : 'Partie en Cours' }}</p>
  </div>

  <!-- Player Cards -->
  <div class="player-cards">
    <div class="player-card" *ngFor="let player of players">
      <h3>{{ player.name }}</h3>
      <p>Score : {{ player.score }}</p>
      <p *ngIf="player.currentMove">Dernier Coup : {{ player.currentMove }}</p>
      <p *ngIf="!player.currentMove">Pas encore joué</p>
    </div>
  </div>
  <div class="image-container">
    <img
      *ngIf="!isGameFinished"
      [src]="currentImage"
      [class]="animationClass"
      alt="Jeu en cours"
    />
    <img
      *ngIf="isGameFinished"
      [src]="endGameImage"
      class="end-game-image"
      alt="Fin de la partie"
    />
  <!-- Game Status -->
  <div class="game-status-panel">
    <h2>Partie en cours</h2>
    <p class="rounds">Tour : {{ currentRound }}/{{ totalRounds }}</p>
    <p class="status">{{ isGameFinished ? 'Partie Terminée' : 'Partie en Cours' }}</p>
  </div>
  </div>
  <!-- Action Buttons -->
  <div *ngIf="!isGameFinished" class="action-buttons">
    <button
      (click)="submitMove('COOPERER')"
      [disabled]="isWaiting"
      class="cooperate-btn"
    >
      Coopérer
    </button>
    <button
      (click)="submitMove('TRAHIR')"
      [disabled]="isWaiting"
      class="betray-btn"
    >
      Trahir
    </button>
  </div>

  <!-- End Game Screen -->
  <div *ngIf="isGameFinished" class="end-game-screen">
    <h2>Partie Terminée</h2>
    <div *ngIf="currentPlayer?.score === highestScore">
      🎉 Félicitations {{ currentPlayer?.name }}, vous avez gagné ! 🎉
    </div>
    <div *ngIf="currentPlayer?.score !== highestScore">
      😔 {{ currentPlayer?.name }}, vous avez perdu. Bonne chance la prochaine fois !
    </div>
    <ul>
      <li *ngFor="let player of players">
        {{ player.name }} : {{ player.score }} points
      </li>
    </ul>
    <button (click)="quitGame()">Quitter</button>
  </div>
</div>
